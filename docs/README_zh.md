# 文件数字信封

武汉大学国家网络空间安全学院22级密码学实验大作业项目。

## 文件数字信封介绍

### 什么是文件数字信封

数字信封是一种综合利用了对称加密技术和非对称加密技术两者的优点进行信息安全传输的一种技术。

文件数字信封既发挥了对称加密算法速度快、安全性好的优点，又发挥了非对称加密算法密钥管理方便的优点。

数字信封大体上由两部分组成：被非对称算法加密的密钥，被对称算法加密的密文。

其中密钥部分是对称算法的密钥，也就是用于解密密文的密钥。

也就是给你两个上锁的盒子，一个盒子内放着打开另一个盒子的钥匙。

后面把这两个盒子称为钥匙盒子与密文盒子。你手中有着打开钥匙盒子的钥匙。

### 为什么要多此一举

前面已经说过，数字信封的两部分采用不同的加密算法。

其中钥匙盒子采用非对称加密算法加密，而密文盒子采用对称算法加密。

这样文件数字信封就同时具有了非对称加密算法的便利性，与对称加密算法的运行效率。

（用非对称算法加密的密钥长度远小于实际数据）。

## fde命令行工具

本项目实现了一个生成与解析文件数字信封的命令行工具：fde，并为其设计了对应的fde二进制文件格式协议。

fde支持多种对称及非对称密码算法，以生成并解析fde文件。

### fde命令行工具的使用

#### fde支持识别的命令行参数

| 选项 | 描述                                                                                           | 要求         |
|------|-----------------------------------------------------------------------------------------------|--------------|
| `-f` | 输入文件路径                                                                                   | 必须提供    |
| `-o` | 输出文件路径（默认为把拓展名替换为fde文件内存储的原拓展名）                                                   | 可选         |
| `-k` | 非对称密钥文件路径                                                                             | 必须提供    |
| `-m` | 操作模式：<br>`enc` - 将输入文件加密成数字信封<br>`dec` - 解密数字信封文件                     | 必须提供    |
| `-h` | 显示帮助信息                                                                                   | 可选         |
| `-a` | 指定非对称加密算法（例如，`rsa`）                                                               | 可选         |
| `-s` | 指定对称加密算法（例如，`sm4`）                                                                 | 可选         |

#### fde命令行参数的依赖、互斥关系
